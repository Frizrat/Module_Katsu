
  <script type="text/javascript">

function Header(key,value) {
        this.key = key;
        this.value = value;
    }

    function ExtraInfo(value) {
        this.value = value;
    }

    function Output(moduleID,image,link,title,description,genres,type,status,episodes) {
        this.moduleID = moduleID;
        this.image = image;
        this.link = link;
        this.title = title;
        this.description = description;
        this.genres = genres;
        this.type = type;
        this.status = status;
        this.episodes = episodes;
    }

    function Episodes(link,moduleID,isDecodable) {
        this.link = link;
        this.moduleID = moduleID;
        this.isDecodable = isDecodable;
    }

    function InfoObject(request,method,headers,extraInfo,loadJavascript,javaScript,output) {
        this.request = request;
        this.method = method;
        this.headers = headers;
        this.extraInfo = extraInfo;
        this.loadJavascript = loadJavascript;
        this.javaScript = javaScript;
        this.output = output;
    }

    var savedData = document.getElementById('katsu-final-data');

    var baseURL = JSON.parse(savedData.innerHTML);
      
    var moduleID = '19050521';
    var headers = [new Header('', '')];
    var extraInfo = [new ExtraInfo('')];

    var infoObject; 
    var output;

    var episodes = [];
    var infoList = document.querySelector('.InfoList').querySelectorAll('.AAIco-adjust');
    var baseURL = document.querySelector('link[rel=canonical]').href;

    if (baseURL != baseURL.split('/anime/')) {
        var type = 'Anime';
        var status = infoList[1].innerText;
        var saisons = document.querySelector('.TpRwCont').querySelectorAll('.Wdgt.AABox > .TPTblCn');
        for (var x = 0; x < saisons.length; x++) {
            var content = saisons[x].querySelectorAll('tr');
            for (var i = 0; i < content.length; i++) {
                var link = content[i].querySelector('a').href;
                episodes.push(new Episodes(link,moduleID,'false'));
            }
        }
    } else {
        var type = 'Film';
        var status = '';
        episodes.push(new Episodes(baseURL,moduleID,'false'));
    }

    var desc = document.querySelector('meta[property=\"og:depion\"]');
    if (desc != null) {
        desc = desc.content;
    } else {
        desc = '';
    }

    var title = document.querySelector('meta[property=\"og:title\"]').content.split('Anime en')[0];
    var image = document.querySelector('.TPost.Single > header > .Image > figure > img').src;
    if (!image.includes('https:')) {
      image = 'https:' + image;
    }
    var genres = [];

    output = new Output(moduleID,image,baseURL,title,desc,genres,type,status,episodes);

    infoObject = new InfoObject('','get',headers,extraInfo,'', '',output); 
    var finalJson = JSON.stringify(infoObject);
    savedData.innerHTML = finalJson;

</script></body>
</html>
