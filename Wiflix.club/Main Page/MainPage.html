
  <script type="text/javascript">

function Header(key,value) {
      this.key = key;
      this.value = value;
  }

  function ExtraInfo(value) {
      this.value = value;
  }

  function Output(lastEpisodes,lastAnimes) {
      this.lastEpisodes = lastEpisodes;
      this.lastAnimes = lastAnimes;
  }

  function LastAnimes(moduleID,image,link,title) {
      this.moduleID = moduleID;
      this.image = image;
      this.link = link;
      this.title = title;
  }

  function LastEpisodes(moduleID,image,link,title,episode) {
      this.moduleID = moduleID;
      this.image = image;
      this.link = link;
      this.title = title;
      this.episode = episode;
  }

  function MainPageObject(request,headers,method,extraInfo,loadJavascript,javaScript,output) {
      this.request = request;
      this.headers = headers;
      this.method = method;
      this.extraInfo = extraInfo;
      this.loadJavascript = loadJavascript;
      this.javaScript = javaScript;
      this.output = output;
  }

  var savedData = document.getElementById('katsu-final-data');

  var parsedJson = JSON.parse(savedData.innerHTML); 
  
  var moduleID = '22020621';
  var headers = [new Header('','')];
  var extraInfo = [new ExtraInfo('')]; 

  var mainPageObject; 
  var output;

  var lastAnimes = [];
  var lastEpisodes = [];

  var series = document.querySelector('.floaters.clearfix > .block-main').querySelectorAll('.mov.clearfix > .mov-i');
  
  for (serie of series) {
      var image = serie.querySelector('img').src;
      if (!image.includes(parsedJson.request)) {
      image = parsedJson.request + image;
      }
      var link = serie.querySelector('.mov-mask').getAttribute('data-link');
      var title = serie.querySelector('img').alt;
      lastAnimes.push(new LastAnimes (moduleID,image,link,title));
  }

  var films = document.querySelector('.floaters.clearfix').querySelectorAll('.block-main')[1].querySelectorAll('.mov.clearfix > .mov-i');
  
  for (film of films) {
      var image = film.querySelector('img').src;
      if (!image.includes(parsedJson.request)) {
      image = parsedJson.request + image;
      }
      var link = film.querySelector('.mov-mask').getAttribute('data-link');
      var title = film.querySelector('img').alt;
      var episode = 'Film';
      lastEpisodes.push(new LastEpisodes (moduleID,image,link,title,episode));
  }

  while (lastEpisodes.length % 2 != 0) {
    lastEpisodes.push(lastEpisodes[0]);
  }

  while (lastAnimes.length % 3 != 0) {
    lastAnimes.push(lastAnimes[0]);
  }
  
  output = new Output(lastEpisodes,lastAnimes);
  mainPageObject = new MainPageObject('',headers,'',extraInfo,'','',output);

  var finalJson = JSON.stringify(mainPageObject);
  savedData.innerHTML = finalJson;

</script>
 </body>
</html>